
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function() {
        // Function to update the cell value and background color
        function updateCell3() {
            $.get('/update_data3', function(dataF) {
                // Iterate over the updated data and update the corresponding cell
                for (var i = 0; i < dataF.length; i++) {
                    var item = dataF[i];
                    
                    var cell7 = $('#table-data3 tr').eq(i + 1).find('.NOW');
                    cell7.text("FALLA");
                    //cell4.text(item.MatB);

                    if (item.NOW > 0) {
                        cell7.css('background-color', 'red');
                    } else {
                        cell7.css('background-color', 'white');
                    }
                    
                    var cell8 = $('#table-data3 tr').eq(i + 1).find('.ID');
                    cell8.text(item.ID);
                                       
                    if (item.ID > 0) {
                        cell8.css('background-color','yellow');
                    } else {
                        cell8.css('background-color', 'white');
                    }

                    
                }
            });
        }

        // Call the updateCell function every 5 seconds (example)
        setInterval(updateCell3, 2000);
    });
</script>


{% extends './base.html' %} 

{% block title %} ANDON {% endblock %}

{% block body %} 

<div class="row justify-content-between">
    
    <div class="col-md-9">
         <!--<div class="row">
          <div class="btn-group pr-q pl-1">
             <a href="#" class="btn btn-primary active" aria-current="page">Active link</a>
             <a href="#" class="btn btn-primary">Link</a>
             <a href="#" class="btn btn-primary">Link</a>
           </div>
         </div>    
        -->
        <!--Alineación de PADDING-->
        <div class="row">
            <div class="container overflow-hidden text-center">
                <!--<div class="row gy-5">
                  <div class="col-6">
                    <div class="p-3">Custom column padding1</div>
                  </div>
                </div>-->
                
                <hr>

                    <div class="text-dark">
                      <hr class="border border-dark border-3 opacity-75">
                      <h4>Monitor TESLA Soldadura</h4>
                      <hr class="border border-dark border-3 opacity-75">
                    </div>

               </div>

        </div><!---->

        <div class="row">
         <div class="bg-image" style="background-image: url(./static/images/{{ "TESLALY2.jpg" }}); height: 420px;">
         <div class="position-relative">

            <button class="btn btn-success" style="position: absolute; top: 40px; left: 10px;">10</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 55px;">20</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 100px;">25</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 150px;">30</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 205px;">40</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 335px;">50</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 380px;">60</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 425px;">70</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 470px;">80</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 515px;">90</button>
            <button class="btn btn-success" style="position: absolute; top: 40px; left: 560px;">100</button>

            <button class="btn btn-success" style="position: absolute; top: 140px; left: 10px;">10</button>
            <button class="btn btn-success" style="position: absolute; top: 140px; left: 55px;">20</button>
            <button class="btn btn-success" style="position: absolute; top: 140px; left: 100px;">25</button>
            <button class="btn btn-success" style="position: absolute; top: 140px; left: 150px;">30</button>
            <button class="btn btn-success" style="position: absolute; top: 140px; left: 205px;">40</button>
            <button class="btn btn-warning" style="position: absolute; top: 140px; left: 335px;">50</button>
            <button class="btn btn-warning" style="position: absolute; top: 140px; left: 380px;">60</button>
            <button class="btn btn-danger" style="position: absolute; top: 140px; left: 425px;">70</button>
            <button class="btn btn-danger" style="position: absolute; top: 140px; left: 470px;">80</button>
            <button class="btn btn-danger" style="position: absolute; top: 140px; left: 515px;">90</button>
            <button class="btn btn-danger" style="position: absolute; top: 140px; left: 560px;">100</button>

            
            <button class="btn btn-success" style="position: absolute; top: 250px; left: 155px;">20</button>
            <button class="btn btn-success" style="position: absolute; top: 250px; left: 203px;">30</button>
            <button class="btn btn-success" style="position: absolute; top: 250px; left: 250px;">35</button>
            <button class="btn btn-success" style="position: absolute; top: 250px; left: 385px;">40</button>
            <button class="btn btn-success" style="position: absolute; top: 250px; left: 432px;">50</button>
            <button class="btn btn-success" style="position: absolute; top: 250px; left: 477px;">60</button>
            <button class="btn btn-success" style="position: absolute; top: 250px; left: 523px;">70</button>
            <button class="btn btn-success" style="position: absolute; top: 250px; left: 572px;">80</button>

            <button class="btn btn-success" style="position: absolute; top: 350px; left: 155px;">20</button>
            <button class="btn btn-success" style="position: absolute; top: 350px; left: 203px;">30</button>
            <button class="btn btn-warning" style="position: absolute; top: 350px; left: 250px;">35</button>
            <button class="btn btn-warning" style="position: absolute; top: 350px; left: 385px;">40</button>
            <button class="btn btn-warning" style="position: absolute; top: 350px; left: 432px;">50</button>
            <button class="btn btn-danger" style="position: absolute; top: 350px; left: 477px;">60</button>
            <button class="btn btn-danger" style="position: absolute; top: 350px; left: 523px;">70</button>
            <button class="btn btn-danger" style="position: absolute; top: 350px; left: 572px;">80</button>

            <button class="btn btn-warning" style="position: absolute; top: 90px; left: 690px;">QARR</button>
            <button class="btn btn-warning" style="position: absolute; top: 303px; left: 690px;">QAFR</button>

          <!--<img src= "./static/images/{{ "TESLALY.jpg" }}" class="img-fluid" alt="">--> 
         </div>
         </div>
         </div>
    
    </div>
    <div class="col-md-3 text-center">
        <hr class="border border-dark border-3 opacity-75">
        <h4>Estatus actual Manufactura</h4>
        <hr class="border border-dark border-3 opacity-75">
         <div class="table-responsive">
         <table id="table-data3" class="table table-striped table-bordered" >
            <thead thead class ="table-dark">
                <tr>
                    <th>Estación</th>
                    <th>STATUS</th>
                    <th>ID</th>
                </tr>
            </thead>
            <tbody>
                {% for item in fallas %}
                    <tr>
                      <td class="stF">{{ item.stF }}</td>
                      <td class="NOW">{{ item.NOW }}</td>
                      <td class="ID">{{ item.ID }}</td>
        
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
        </div>
</div>
{% endblock %}